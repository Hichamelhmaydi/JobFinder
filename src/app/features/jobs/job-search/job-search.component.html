<!-- 
  ANGULAR TEMPLATE: job-search-page.component.html
  Remplacez votre template actuel par ce code
-->

<div class="min-h-screen">

  <!-- Hero background décoratif -->
  <div class="relative overflow-hidden" style="background-image: url('https://cdn.pixabay.com/photo/2020/07/08/04/12/work-5382501_1280.jpg'); background-size: cover;">
    <div class="absolute inset-0 h-80 bg-gradient-to-b from-[#011F22] to-transparent pointer-events-none"></div>

    <!-- Cercles déco arrière-plan hero -->
    <div class="absolute top-0 left-1/4 w-96 h-96 bg-[#025159] rounded-full opacity-20 -translate-y-1/2 blur-3xl pointer-events-none"></div>
    <div class="absolute top-0 right-1/4 w-72 h-72 bg-[#7AB8BF] rounded-full opacity-15 -translate-y-1/2 blur-3xl pointer-events-none"></div>

    <main class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

      <!-- ═══════════════════════════════════ HERO HEADER -->
      <div class="pt-14 pb-10 flex flex-col md:flex-row md:items-end md:justify-between gap-6">

        <!-- Texte -->
        <div>
          <div class="inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm border border-white/20 rounded-full px-4 py-1.5 mb-5">
            <span class="w-2 h-2 bg-[#7AB8BF] rounded-full animate-pulse inline-block"></span>
            <span class="text-[#C4EEF2] text-xs font-semibold tracking-widest uppercase">Offres en direct</span>
          </div>
          <h1 class="text-5xl font-black text-white leading-[1.05] tracking-tight" style="font-family: 'Syne', sans-serif;">
            Trouvez votre<br>
            <span class="text-transparent bg-clip-text bg-gradient-to-r from-[#7AB8BF] to-[#C4EEF2]">emploi idéal</span>
          </h1>
          <p class="text-white/50 mt-3 text-base font-light max-w-md">
            Explorez plus de <strong class="text-white/80 font-semibold">4 000 pages</strong> d'offres internationales en temps réel
          </p>
        </div>

        <!-- Stats chips -->
        <div class="flex items-center gap-3 flex-wrap">
          <div class="bg-white/10 backdrop-blur-sm border border-white/15 rounded-2xl px-4 py-3 text-center min-w-[80px]">
            <p class="text-white font-black text-xl leading-none" style="font-family: 'Syne', sans-serif;">4K+</p>
            <p class="text-[#7AB8BF] text-xs font-medium mt-1">Pages</p>
          </div>
          <div class="bg-white/10 backdrop-blur-sm border border-white/15 rounded-2xl px-4 py-3 text-center min-w-[80px]">
            <p class="text-white font-black text-xl leading-none" style="font-family: 'Syne', sans-serif;">Live</p>
            <p class="text-[#7AB8BF] text-xs font-medium mt-1">Mises à jour</p>
          </div>
        </div>
      </div>

      <!-- ═══════════════════════════════════ SEARCH FORM -->
      <div class="mb-10">
        <app-job-search-form (search)="onSearch($event)"></app-job-search-form>
      </div>

    </main>
  </div>

  <!-- ═══════════════════════════════════ RESULTS SECTION -->
  <div style="background: #EFF9FA; position: relative; z-index: 10;">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-16">

      <!-- Divider décoratif -->
      <div class="flex items-center gap-4 mb-8">
        <div class="h-px flex-1 bg-gradient-to-r from-transparent to-[#C4EEF2]"></div>
        <div class="flex items-center gap-2 bg-white border border-[#C4EEF2] rounded-full px-4 py-1.5 shadow-sm">
          <svg class="w-3.5 h-3.5 text-[#3E848C]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0l-4-4m4 4l-4 4"/>
          </svg>
          <span class="text-[#025159] text-xs font-bold tracking-wide uppercase">Résultats</span>
        </div>
        <div class="h-px flex-1 bg-gradient-to-l from-transparent to-[#C4EEF2]"></div>
      </div>

      <!-- Job Results -->
      <app-job-results
        [jobs$]="jobs$"
        [isAuthenticated]="isAuthenticated"
        [favoriteIds]="(favoriteIds$ | async) ?? []"
        [applicationIds]="(applicationIds$ | async) ?? []"
        [hasFilters]="hasFilters()"
        (viewDetails)="onViewDetails($event)"
        (addToFavorites)="onAddToFavorites($event)"
        (trackApplication)="onTrackApplication($event)"
        (nextPage)="onNextPage()"
        (clearFilters)="onClearFilters()"
      ></app-job-results>

      <!-- Pagination -->
      @if ((jobs$ | async)?.page_count ?? 0 > 1) {
        <div class="mt-10">
          <app-pagination
            [currentPage]="currentPage"
            [totalPages]="totalPages"
            [totalItems]="totalItems"
            (pageChange)="onPageChange($event)"
          ></app-pagination>
        </div>
      }

    </div>
  </div>

</div>